import{_ as g,p as b,s as D,o,b as w,c as d,j as a,aj as x,ak as C,J as h,a2 as M,e as V,al as T,y as i,C as B,a as _,t as v,k as S,G as $,H as E}from"./chunks/framework.PewqAF30.js";import{g as N}from"./chunks/melolo.DtXrgE6V.js";import{p as I}from"./chunks/theme.0a7BT0n-.js";import{W as U}from"./chunks/WatchDrama.V21Ezyzs.js";const j={class:"modal-content"},H={__name:"VideoModal",props:{vid:{type:String,default:null},episodes:{type:Array,default:()=>[]},visible:{type:Boolean,default:!1}},emits:["close","update:vid"],setup(c,{emit:r}){const u=r,n=i(!0),l=i(null),s=i(!1);b(()=>{s.value=window.matchMedia("(hover: hover)").matches,s.value||(n.value=!0)}),D(()=>{l.value&&clearTimeout(l.value)});function p(){l.value&&(clearTimeout(l.value),l.value=null)}function m(f=2e3){s.value&&(p(),l.value=setTimeout(()=>{n.value=!1},f))}function e(){s.value&&(n.value=!0,m())}function t(){u("close")}return(f,y)=>(o(),w(T,{to:"body"},[c.visible?(o(),d("div",{key:0,class:"modal-overlay",onClick:M(t,["self"]),onMousemove:e},[a("div",j,[x(a("button",{class:"close-button",onClick:t,onMouseenter:p,onMouseleave:e},"âœ•",544),[[C,n.value]]),h(U,{vid:c.vid,episodes:c.episodes,"onUpdate:vid":y[0]||(y[0]=k=>f.$emit("update:vid",k))},null,8,["vid","episodes"])])],32)):V("",!0)]))}},L=g(H,[["__scopeId","data-v-0b439d6b"]]),O={key:0,class:"loading-state"},P={key:1,class:"error-state"},W={key:2,class:"drama-detail"},J={class:"header"},R=["src","alt"],A={class:"info"},F={class:"abstract"},G={class:"episode-list"},q=["onClick"],z={__name:"DramaDetail",setup(c){const r=i(!1),u=i("");B();const n=i(!0),l=i(null),s=i(null);function p(m){u.value=m,r.value=!0}return b(async()=>{const e=new URLSearchParams(window.location.search).get("id");try{const t=await N(e);s.value=t.data?.video_data||{}}catch(t){l.value=t.message}finally{n.value=!1}}),(m,e)=>n.value?(o(),d("div",O,[...e[2]||(e[2]=[a("i",{class:"fas fa-spinner fa-spin"},null,-1),_(" Loading drama details... ",-1)])])):l.value?(o(),d("div",P,[e[3]||(e[3]=a("i",{class:"fas fa-exclamation-circle"},null,-1)),_(" Error: "+v(l.value),1)])):(o(),d("div",W,[a("div",J,[a("img",{src:S(I)(s.value.series_cover,400),alt:s.value.series_title},null,8,R),a("div",A,[a("h1",null,v(s.value.series_title),1),a("p",F,v(s.value.series_intro),1),a("p",null,[e[4]||(e[4]=a("strong",null,"Episodes:",-1)),_(" "+v(s.value.episode_cnt),1)]),a("p",null,[e[5]||(e[5]=a("strong",null,"Status:",-1)),_(" "+v(s.value.series_status===1?"Ongoing":"Completed"),1)])])]),e[6]||(e[6]=a("h2",null,"Episodes",-1)),a("div",G,[(o(!0),d($,null,E(s.value.video_list||[],t=>(o(),d("div",{key:t.vid,class:"episode",onClick:f=>p(t.vid)},[a("span",null,"Episode "+v(t.vid_index),1)],8,q))),128))]),h(L,{vid:u.value,episodes:s.value.video_list||[],visible:r.value,onClose:e[0]||(e[0]=t=>r.value=!1),"onUpdate:vid":e[1]||(e[1]=t=>u.value=t)},null,8,["vid","episodes","visible"])]))}},K=g(z,[["__scopeId","data-v-55bf4e4b"]]),ae=JSON.parse('{"title":"Drama Detail","description":"","frontmatter":{"title":"Drama Detail"},"headers":[],"relativePath":"drama/index.md","filePath":"drama/index.md"}'),Q={name:"drama/index.md"},se=Object.assign(Q,{setup(c){return(r,u)=>(o(),d("div",null,[h(K)]))}});export{ae as __pageData,se as default};
