import{a as y,b as D}from"./chunks/melolo.DVL6vrbg.js";import{D as v}from"./chunks/theme.PKj9AqC2.js";import{p as h,o as n,c as l,t as f,b as p,y as o,j as i,a as c,J as u}from"./chunks/framework.DkZ_CT3H.js";const k={key:0},S={key:1},_="latest-dramas",x=300*1e3,b={__name:"LatestDramas",setup(m){const s=o(!0),e=o(null),t=o([]);return h(async()=>{const r=sessionStorage.getItem(_);if(r){const{data:a,timestamp:d}=JSON.parse(r);if(Date.now()-d<x){t.value=a,s.value=!1;return}}try{const a=await y();t.value=a.books||[],sessionStorage.setItem(_,JSON.stringify({data:t.value,timestamp:Date.now()}))}catch(a){e.value=a.message}finally{s.value=!1}}),(r,a)=>s.value?(n(),l("div",k,"Loading latest...")):e.value?(n(),l("div",S,"Error: "+f(e.value),1)):(n(),p(v,{key:2,dramas:t.value},null,8,["dramas"]))}},E={key:0},L={key:1},g="trending-dramas",T=300*1e3,C={__name:"TrendingDramas",setup(m){const s=o(!0),e=o(null),t=o([]);return h(async()=>{const r=sessionStorage.getItem(g);if(r){const{data:a,timestamp:d}=JSON.parse(r);if(Date.now()-d<T){t.value=a,s.value=!1;return}}try{const a=await D();t.value=a.books||[],sessionStorage.setItem(g,JSON.stringify({data:t.value,timestamp:Date.now()}))}catch(a){e.value=a.message}finally{s.value=!1}}),(r,a)=>s.value?(n(),l("div",E,"Loading trending...")):e.value?(n(),l("div",L,"Error: "+f(e.value),1)):(n(),p(v,{key:2,dramas:t.value},null,8,["dramas"]))}},P=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"home","hero":{"name":"DramaStream","tagline":"Multi-Provider Drama Platform, Watch the latest dramas – all in one place","image":{"src":"/drama.svg","alt":"Drama Streaming"},"actions":[{"theme":"brand","text":"Start Watching","link":"/#latest-releases"},{"theme":"alt","text":"Search Drama","link":"/search"}]}},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),N={name:"index.md"},$=Object.assign(N,{setup(m){return(s,e)=>(n(),l("div",null,[e[0]||(e[0]=i("h2",{id:"latest-releases",tabindex:"-1"},[c("Latest Releases "),i("a",{class:"header-anchor",href:"#latest-releases","aria-label":"Permalink to “Latest Releases”"},"​")],-1)),u(b),e[1]||(e[1]=i("h2",{id:"trending-dramas",tabindex:"-1"},[c("Trending Dramas "),i("a",{class:"header-anchor",href:"#trending-dramas","aria-label":"Permalink to “Trending Dramas”"},"​")],-1)),u(C)]))}});export{P as __pageData,$ as default};
